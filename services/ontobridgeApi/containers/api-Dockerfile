FROM python:3.12.3 

RUN pip install poetry

# 1/ copy poetry files & dependencies
COPY ./poetry.lock ./pyproject.toml /app/ 
COPY ./api/readme.md ./api/main.py /app/api/

RUN cd /app/ \
    && poetry install 


COPY ./ /app/ 

WORKDIR /app/
## poetry shell && poetry run dev
ENTRYPOINT [ "poetry", "run", "dev" ]
# ENTRYPOINT ["tail", "-f", "/dev/null"]